<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Define and Render Mathematical Models Across Multiple Optimization Languages. â€¢ multimod</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="â€image/svg+xmlâ€" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Define and Render Mathematical Models Across Multiple Optimization Languages.">
<meta name="description" content="Multimod provides a domain-specific language (DSL) for defining algebraic equations and constraints in R, and rendering them to multiple mathematical programming languages, including GAMS, AMPL, Pyomo, and JuMP. It supports structured storage of equations, parameters, sets, and mappings, and aims to simplify the development of complex optimization models across platforms.">
<meta property="og:description" content="Multimod provides a domain-specific language (DSL) for defining algebraic equations and constraints in R, and rendering them to multiple mathematical programming languages, including GAMS, AMPL, Pyomo, and JuMP. It supports structured storage of equations, parameters, sets, and mappings, and aims to simplify the development of complex optimization models across platforms.">
<meta property="og:image" content="https://optimal2050.github.io/multimod/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">multimod</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.1.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="articles/roadmap.html">{devstatus}</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><h6 class="dropdown-header" data-toc-skip>AST</h6></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="multimod-">multimod <a class="anchor" aria-label="anchor" href="#multimod-"></a>
</h1>
</div>
<!-- badges: start -->

<p>The <code>multimod</code> R package defines a domain-specific language (DSL) and internal representation for mathematical programming models. It enables parsing, manipulation, and export of equations and constraints across multiple modeling languages including GAMS, Pyomo, JuMP, and LaTeX.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"optimal2050/multimod"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="core-features">Core Features<a class="anchor" aria-label="anchor" href="#core-features"></a>
</h2>
<ul>
<li>Parse GAMS-style equations into symbolic tree structure</li>
<li>Represent variables, parameters, and mappings as structured R objects</li>
<li>Render equations to multiple target formats: GAMS, Pyomo, JuMP, LaTeX</li>
<li>Visualize equations as graphs (visNetwork or DiagrammeR)</li>
</ul>
</div>
<div class="section level2">
<h2 id="workflow-diagram">Workflow Diagram<a class="anchor" aria-label="anchor" href="#workflow-diagram"></a>
</h2>
<p>Items in curly braces <code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{}</a></code> are planned for implementation, double curly braces <code>{{}}</code> are potential extensions.</p>
<pre class="text"><code>[ GAMS / {JuMP / Pyomo / GMPL} ]
              â†“
          read_gams()
         {read_jump()}
         {read_pyomo()}
         {read_gmpl()}
           {{...}}
              â†“
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  model_structure   â”‚
     â”‚ (a named list ...) â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
        as_multimod()
              â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚    Core Structures     â”‚      as_visNetwork()
   â”‚    &lt;ast&gt;, &lt;multimod&gt;   â”‚     {as_diagrammer()}
   â”‚ (sets, parameters,     â”‚ âŸ·  {{symbolsic manipulation}}
   â”‚  variables, equations, â”‚     {fold_parameters(), ...}
   â”‚  mappings, ...)        â”‚     {data exchange}
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Rendering / Output â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
   â†’ write_latex()
   â†’ write_gams()
   â†’ {write_jump()}
   â†’ {write_pyomo()}
   â†’ {write_gmpl()}
   â†’ {{write_ampl()}}
   â†’ {{write_mps()}}
   â†’ {{write_cplex()}}
   â†’ {{write_gurobi()}}
   â†’ {{...}}</code></pre>
</div>
<div class="section level2">
<h2 id="example-workflow">Example Workflow<a class="anchor" aria-label="anchor" href="#example-workflow"></a>
</h2>
<p>Load a GAMS model and parse</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://optimal2050.github.io/multimod">multimod</a></span><span class="op">)</span></span>
<span><span class="va">model_info</span> <span class="op">&lt;-</span> <span class="fu">read_gams</span><span class="op">(</span><span class="st">"my_model.gms"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">model_info</span><span class="op">)</span> <span class="co"># "model_structure"</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/as_multimod.html">as_multimod</a></span><span class="op">(</span><span class="va">model_info</span>, name <span class="op">=</span> <span class="st">"My model in multimod format"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span> <span class="co"># "model"    "multimod"</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co">#&gt; [1] "model"    "multimod"</span></span></code></pre></div>
<p>AST elements: an example equation</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eq</span> <span class="op">&lt;-</span> <span class="va">mod</span><span class="op">$</span><span class="va">equations</span><span class="op">[[</span><span class="st">"eqObjective"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">eq</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;AST equation&gt; eqObjective</span></span>
<span><span class="co">#&gt;   relation:  == </span></span>
<span><span class="co">#&gt;   lhs:  vObjective </span></span>
<span><span class="co">#&gt;   rhs:  sum(if (mvTotalCost[region,year]) {[region,year]}v...</span></span></code></pre></div>
<p>Render an equation to LaTeX</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/as_latex.html">as_latex</a></span><span class="op">(</span><span class="va">eq</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="italic">ğ‘£ğ‘‚ğ‘ğ‘—ğ‘’ğ‘ğ‘¡ğ‘–ğ‘£ğ‘’</mtext><mo>=</mo><munder><mo>âˆ‘</mo><mrow><mrow><mi>r</mi><mo>,</mo><mi>y</mi></mrow><mo>âˆˆ</mo><msub><mtext mathvariant="sans-serif">ğ—†ğ—ğ–³ğ—ˆğ—ğ–ºğ—…ğ–¢ğ—ˆğ—Œğ—</mtext><mrow><mi>r</mi><mo>,</mo><mi>y</mi></mrow></msub></mrow></munder><mrow><msub><mtext mathvariant="italic">ğ‘£ğ‘‡ğ‘œğ‘¡ğ‘ğ‘™ğ¶ğ‘œğ‘ ğ‘¡</mtext><mrow><mi>r</mi><mo>,</mo><mi>y</mi></mrow></msub><mo>â‹…</mo><msub><mtext mathvariant="sans-serif">ğ—‰ğ–¯ğ–¾ğ—‹ğ—‚ğ—ˆğ–½ğ–«ğ–¾ğ—‡</mtext><mi>y</mi></msub><mo>â‹…</mo><msub><mtext mathvariant="sans-serif">ğ—‰ğ–£ğ—‚ğ—Œğ–¼ğ—ˆğ—ğ—‡ğ—ğ–¥ğ–ºğ–¼ğ—ğ—ˆğ—‹</mtext><mrow><mi>r</mi><mo>,</mo><mi>y</mi></mrow></msub></mrow></mrow><annotation encoding="application/x-tex">
\textit{vObjective} = \sum_{{r,y} \in \textsf{mvTotalCost}_{r,y}} {\textit{vTotalCost}_{r,y}  \cdot  \textsf{pPeriodLen}_{y}  \cdot  \textsf{pDiscountFactor}_{r,y}}
</annotation></semantics></math></p>
<p>Render a specific equation to GAMS or Julia/JuMP</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/as_gams.html">as_gams</a></span><span class="op">(</span><span class="va">eq</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; eqObjective..</span></span>
<span><span class="co">#&gt;   vObjective =e=</span></span>
<span><span class="co">#&gt;   sum(([region,year])$mvTotalCost[region,year], vTotalCost[region,year] * pPeriodLen[year] * pDiscountFactor[region,year]);</span></span>
<span><span class="co"># {as_jump(mod$equations[["eqObjective"]])}</span></span></code></pre></div>
<p>Visualize equation tree</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://datastorm-open.github.io/visNetwork/" class="external-link">visNetwork</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/as_visNetwork.html">as_visNetwork</a></span><span class="op">(</span><span class="va">eq</span><span class="op">)</span></span></code></pre></div>
<p>Write the entire model to LaTeX</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">write_latex</span><span class="op">(</span><span class="va">mod</span>, </span>
<span>            file <span class="op">=</span> <span class="st">"my_multimod_model.tex"</span>,</span>
<span>            title <span class="op">=</span> <span class="st">"My multimod model equations"</span>,</span>
<span>            subtitle <span class="op">=</span> <span class="st">"Generated by multimod package"</span><span class="op">)</span></span>
<span><span class="fu">tinytex</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tinytex/man/latexmk.html" class="external-link">pdflatex</a></span><span class="op">(</span><span class="st">"my_multimod_model.tex"</span><span class="op">)</span></span></code></pre></div>
<p>Save to GAMS</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/write_gams.html">write_gams</a></span><span class="op">(</span><span class="va">mod</span>, file <span class="op">=</span> <span class="st">"my_multimod_model.gms"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>MIT License</p>
</div>
<div class="section level2">
<h2 id="development-status">Development Status<a class="anchor" aria-label="anchor" href="#development-status"></a>
</h2>
<p>The package is under active development. Contributions, bug reports, and feature requests are welcome! See details in <a href="articles/roadmap.html">{devstatus}</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing multimod</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Oleg Lugovoy <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-5546-9875" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://CRAN.R-project.org/package=multimod" class="external-link"><img src="https://www.r-pkg.org/badges/version/multimod" alt="CRAN status"></a></li>
<li><a href="code_of_conduct.html"><img src="https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg" alt="Contributor Covenant"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Oleg Lugovoy.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
